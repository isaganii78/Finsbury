{"utilities":{},"programModules":{"MMS177":{"program":"MMS177","triggers":{"CreateNewPallet":{"name":"CreateNewPallet","method":"PACHK","advice":"PRE","active":true,"modified":1600245112323,"modifiedBy":"NJOHNSON","sourceUuid":"9f9d7074-3551-4f1e-b049-85f4aa7f26b3","programName":"MMS177","utilities":[],"type":"METHOD","priority":500}},"transactions":{},"batches":{}}},"sources":{"9f9d7074-3551-4f1e-b049-85f4aa7f26b3":{"uuid":"9f9d7074-3551-4f1e-b049-85f4aa7f26b3","updated":1603122874722,"updatedBy":"NJOHNSON","created":1600244136163,"createdBy":"NJOHNSON","apiVersion":"0.2","beVersion":"16.0.0.20200921182353","codeHash":"9841E6B1651FAC4C178296B88B134E86B5405349006CB316A48B6C98E9BF4952","code":"LyoqDQogKiBNTVMxNzcuQ3JlYXRlTmV3UGFsbGV0DQogKiBFeHRlbnNpb24gZm9yIE1NUzE3NyB0byB0cmlnZ2VyIEFQSSdzIHRvIHBlcmZvcm0gdGhlIHN0b2NrIG1vdmVtZW50cyBhcyBjZXJ0YWluIHNjZW5hcmlvcyBkb24ndCB3b3JrIGluIE1NUzE3Ny4NCiAqIEFsc28gd2lsbCBwb3B1bGF0ZSB0aGUgdG8gY29udGFpbmVyIG51bWJlciBpZiB0aGUgY29udGFpbmVyIG1hbmFnZW1lbnQgdHlwZSBpcyA3IGFuZCB0aGUgdG8gbG9jYXRpb24gaXMgY29udGFpbmVyIG1hbmFnZWQuDQogKiBJZiBhIG5ldyBwYWxsZXQgaXMgY3JlYXRlZCB0aGVuIGEgc2Vzc2lvbiBwYXJtIHdpbGwgYmUgc2V0IHRvIHRyaWdnZXIgYSBsYWJlbCB0byBiZSBwcmludGVkIGluIE1NUzE3Ny5QcmludExhYmVsDQogKg0KICogU2NlbmFyaW8gMSAtIEZyb20gYW5kIHRvIGxvY2F0aW9ucyBjb250YWluZXIgbWFuYWdlZCBhbmQgbm8gdHJhbnMgcXR5IGVudGVyZWQgdGhlbiB1c2UgTU1TODUwTUkvQWRkUGFja01vdmUNCiAqIFNjZW5hcmlvIDIgPSBGcm9tIGxvY2F0aW9uIGNvbnRhaW5lciBtYW5hZ2VkIGJ1dCB0byBsb2NhdGlvbiBpc3RuJ3QgdXNlIE1NUzg1ME1JL0FkZE1vdmUNCiAqDQogKiBEYXRlCSAgICBDaGFuZ2VkIEJ5ICBEZXNjcmlwdGlvbg0KICogMjAyMDEwMDEgTkpPSE5TT04gICAgQWRkIG1ldGhvZCB0byBjbGVhciBpbnB1dCBmaWVsZHMgYWZ0ZXIgY2FsbGluZyBBUEkncw0KICogMjAyMDEwMTkgTkpPSE5TT04gICAgV2hlbiBjaGVja2luZyBmb3IgcGFja2FnaW5nIGFsc28gY2hlY2sgd2l0aCBhIHF1YW50aXR5IG9mIDk5OTk5OQ0KICovDQpwdWJsaWMgY2xhc3MgQ3JlYXRlTmV3UGFsbGV0IGV4dGVuZHMgRXh0ZW5kTTNUcmlnZ2VyIHsNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW0NCiAgcHJpdmF0ZSBmaW5hbCBTZXNzaW9uQVBJIHNlc3Npb24NCiAgcHJpdmF0ZSBmaW5hbCBJbnRlcmFjdGl2ZUFQSSBpbnRlcmFjdGl2ZQ0KICBwcml2YXRlIGZpbmFsIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyDQogIHByaXZhdGUgZmluYWwgTG9nZ2VyQVBJIGxvZ2dlcg0KICBwdWJsaWMgQ3JlYXRlTmV3UGFsbGV0KFByb2dyYW1BUEkgcHJvZ3JhbSwgU2Vzc2lvbkFQSSBzZXNzaW9uLCBJbnRlcmFjdGl2ZUFQSSBpbnRlcmFjdGl2ZSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIsIExvZ2dlckFQSSBsb2dnZXIpIHsNCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtDQogICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbg0KICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBpbnRlcmFjdGl2ZQ0KICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcg0KICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyDQogIH0NCg0KICBwdWJsaWMgdm9pZCBtYWluKCkgew0KICAgIFN0cmluZyB1c2VyID0gcHJvZ3JhbS5nZXRVc2VyKCkNCg0KICAgIGxvZ3RleHQodXNlciwgdHJ1ZSkNCg0KICAgIC8vIEdldCByZXF1aXJlZCB2YWx1ZXMgZnJvbSBzY3JlZW4NCiAgICBTdHJpbmcgV0hMTyA9IGludGVyYWN0aXZlLmRpc3BsYXkuZmllbGRzLmdldCgiV1dXSExPIikNCiAgICBTdHJpbmcgSVROTyA9IGludGVyYWN0aXZlLmRpc3BsYXkuZmllbGRzLmdldCgiV1dJVE5PIikNCiAgICBTdHJpbmcgV0hTTCA9IGludGVyYWN0aXZlLmRpc3BsYXkuZmllbGRzLmdldCgiV1dXSFNMIikNCiAgICBTdHJpbmcgQkFOTyA9IGludGVyYWN0aXZlLmRpc3BsYXkuZmllbGRzLmdldCgiV1dCQU5PIikNCiAgICBTdHJpbmcgQ0FNVSA9IGludGVyYWN0aXZlLmRpc3BsYXkuZmllbGRzLmdldCgiV1dDQU1VIikNCiAgICBTdHJpbmcgVFdTTCA9IGludGVyYWN0aXZlLmRpc3BsYXkuZmllbGRzLmdldCgiV1dUV1NMIikNCiAgICBTdHJpbmcgVE9DQSA9IGludGVyYWN0aXZlLmRpc3BsYXkuZmllbGRzLmdldCgiV1dUT0NBIikNCiAgICBTdHJpbmcgVFJRVCA9IGludGVyYWN0aXZlLmRpc3BsYXkuZmllbGRzLmdldCgiV1dUUlFUIikNCg0KICAgIC8vIERlZmluZSB2YXJpYWJsZXMNCiAgICBTdHJpbmcgQ09NRyA9ICIiDQogICAgU3RyaW5nIFBBQ1QgPSAiIg0KICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gSXRtID0gbnVsbA0KICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gSXRtV2hzID0gbnVsbA0KICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gRnJvbUxvY2F0aW9uID0gbnVsbA0KICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gVG9Mb2NhdGlvbiA9IG51bGwNCiAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IEJhbElEID0gbnVsbA0KICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gTW92ZUFQSSA9IG51bGwNCg0KICAgIGxvZ3RleHQoVE9DQSwgdHJ1ZSkNCg0KICAgIEl0bSA9IEdldEl0ZW0oSVROTykNCiAgICBJdG1XaHMgPSBHZXRJdG1XaHMoV0hMTywgSVROTykNCiAgICBGcm9tTG9jYXRpb24gPSBHZXRMb2NhdGlvbihXSExPLCBXSFNMKQ0KICAgIFRvTG9jYXRpb24gPSBHZXRMb2NhdGlvbihXSExPLCBUV1NMKQ0KICAgIEJhbElEID0gR2V0QmFsYW5jZUlEKFdITE8sIElUTk8sIFdIU0wsIEJBTk8sIENBTVUpDQoNCiAgICBib29sZWFuIG5ld1BhbGxldCA9IGZhbHNlDQoNCiAgICBpZiAoSXRtV2hzLkNPTUcgPT0gIjciKSB7DQogICAgICBpZiAoVG9Mb2NhdGlvbi5DTU5HID09ICIxIikgew0KICAgICAgICBpZiAoVE9DQS5pc0JsYW5rKCkpIHsNCiAgICAgICAgICAvL1BBQ1QgPSBHZXRQYWNrYWdpbmcoSVROTykgLy9EIDIwMjAxMDE5DQogICAgICAgICAgUEFDVCA9IEdldFBhY2thZ2luZyhJVE5PLCAiOTk5OTkiKSAvL0EgMjAyMDEwMTkNCiAgICAgICAgICBsb2d0ZXh0KCJQQUNUPSAke1BBQ1R9IiwgdHJ1ZSkNCiAgICAgICAgICBpZiAoUEFDVC5pc0VtcHR5KCkpIHsgDQogICAgICAgICAgICBQQUNUID0gR2V0UGFja2FnaW5nKElUTk8sICI5OTk5OTkiKSAvL0EgMjAyMDEwMTkNCiAgICAgICAgICAgIGxvZ3RleHQoIlBBQ1Q9ICR7UEFDVH0iLCB0cnVlKSAvL0EgMjAyMDEwMTkNCiAgICAgICAgICAgIGlmIChQQUNULmlzRW1wdHkoKSkgeyAvL0EgMjAyMDEwMTkNCiAgICAgICAgICAgICAgaW50ZXJhY3RpdmUuc2hvd0N1c3RvbUVycm9yKCJXV0lUTk8iLCAiTm8gcGFja2FnaW5nIHJlY29yZCBmb3VuZCBmb3IgaXRlbSBjb250YWluZXIgY2Fubm90IGJlIGF1dG8gY3JlYXRlZCIpDQogICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0gLy9BIDIwMjAxMDE5DQogICAgICAgICAgfQ0KICAgICAgICAgIFRPQ0EgPSBHZXRDb250YWluZXIoUEFDVCkNCiAgICAgICAgICBsb2d0ZXh0KCJUT0NBPSAke1RPQ0F9IiwgdHJ1ZSkNCiAgICAgICAgICBpZiAoIVRPQ0EuaXNCbGFuaygpKSB7DQogICAgICAgICAgICBpbnRlcmFjdGl2ZS5kaXNwbGF5LmZpZWxkcy5wdXQoIldXVE9DQSIsIFRPQ0EpDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIG5ld1BhbGxldCA9IHRydWUNCiAgICAgIH0NCg0KICAgICAgLy8gSWYgYm90aCBmcm9tIGFuZCB0byBsb2NhdGlvbnMgYXJlIGNvbnRhaW5lciBtYW5hZ2VkIHRoZW4gZXhlY3V0ZSBNTVM4NTBNSS9BZGRQYWNrTW92ZQ0KICAgICAgaWYgKEZyb21Mb2NhdGlvbi5DTU5HID09ICIxIiAmJiBUb0xvY2F0aW9uLkNNTkcgPT0gIjEiICYmIFRSUVQuaXNCbGFuaygpKSB7DQogICAgICAgIE1vdmVBUEkgPSBBZGRQYWNrTW92ZShXSExPLCBDQU1VLCBUV1NMKQ0KICAgICAgICBpZiAoIU1vdmVBUEkuY29udGFpbnNLZXkoJ2Vycm9yTXNpZCcpKSB7DQogICAgICAgICAgU2V0TGF0ZXN0TW92ZWQoV0hMTywgSXRtV2hzLldITk0sIElUTk8sIEl0bS5JVERTLCBXSFNMLCBGcm9tTG9jYXRpb24uU0xEUywNCiAgICAgICAgICAgIEJBTk8sIENBTVUsIEJhbElELlNUUVQsIEl0bVdocy5NTlVOKQ0KICAgICAgICAgIGludGVyYWN0aXZlLnNob3dDdXN0b21FcnJvcigiV1dJVE5PIiwgIiIpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgaW50ZXJhY3RpdmUuc2hvd0N1c3RvbUVycm9yKCJXV0lUTk8iLCBNb3ZlQVBJLmVycm9yTWVzc2FnZSkNCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICAvLyBJZiBmcm9tIGxvY2F0aW9uIGlzIGNvbnRhaW5lciBtYW5hZ2VkIGJ1dCB0byBsb2NhdGlvbiBpc24ndCB0aGVuIGV4ZWN1dGUgTU1TODUwTUkvQWRkTW92ZQ0KICAgICAgaWYgKEZyb21Mb2NhdGlvbi5DTU5HID09ICIxIiAmJiBUb0xvY2F0aW9uLkNNTkcgPT0gIjAiKSB7DQogICAgICAgIFN0cmluZyBMYXRlc3RNb3ZlZFFUWSA9IFRSUVQNCiAgICAgICAgTW92ZUFQSSA9IEFkZE1vdmUoV0hMTywgV0hTTCwgSVROTywgQkFOTywgQ0FNVSwgVFJRVCwgVFdTTCwgVE9DQSkNCiAgICAgICAgaWYgKCFNb3ZlQVBJLmNvbnRhaW5zS2V5KCdlcnJvck1zaWQnKSkgew0KICAgICAgICAgIGlmIChMYXRlc3RNb3ZlZFFUWS5pc0JsYW5rKCkpIHsNCiAgICAgICAgICAgIExhdGVzdE1vdmVkUVRZID0gQmFsSUQuU1RRVA0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBpbnRlcmFjdGl2ZS5zaG93Q3VzdG9tRXJyb3IoIldXSVROTyIsIE1vdmVBUEkuZXJyb3JNZXNzYWdlKQ0KICAgICAgICB9DQoNCiAgICAgICAgU2V0TGF0ZXN0TW92ZWQoV0hMTywgSXRtV2hzLldITk0sIElUTk8sIEl0bS5JVERTLCBXSFNMLCBGcm9tTG9jYXRpb24uU0xEUywNCiAgICAgICAgICBCQU5PLCBDQU1VLCBMYXRlc3RNb3ZlZFFUWSwgSXRtV2hzLk1OVU4pDQogICAgICAgIGludGVyYWN0aXZlLnNob3dDdXN0b21FcnJvcigiV1dJVE5PIiwgIiIpDQogICAgICB9DQoNCiAgICB9DQogICAgc2Vzc2lvbi5wYXJhbWV0ZXJzLnB1dCgibmV3UGFsbGV0IiwgbmV3UGFsbGV0KQ0KICB9DQoNCiAgLyoqDQogICAqIENsZWFyIGlucHV0IGZpZWxkcyBvbiBkaXNwbGF5DQogICAqIEBwYXJhbQ0KICAgKiBAcmV0dXJuDQogICAqLw0KICBwdWJsaWMgdm9pZCBDbGVhcklucHV0RmllbGRzICgpIHsNCiAgICBpbnRlcmFjdGl2ZS5kaXNwbGF5LmZpZWxkcy5wdXQoIldXQ0FNVSIsICIiKQ0KICAgIGludGVyYWN0aXZlLmRpc3BsYXkuZmllbGRzLnB1dCgiV1dUUlFNIiwgIiIpDQogICAgaW50ZXJhY3RpdmUuZGlzcGxheS5maWVsZHMucHV0KCJXV1RSUVQiLCAiIikNCiAgICBpbnRlcmFjdGl2ZS5kaXNwbGF5LmZpZWxkcy5wdXQoIldXQ0FXRSIsICIiKQ0KICAgIGludGVyYWN0aXZlLmRpc3BsYXkuZmllbGRzLnB1dCgiV1dUV1NMIiwgIiIpDQogICAgaW50ZXJhY3RpdmUuZGlzcGxheS5maWVsZHMucHV0KCJXV1RPQ0EiLCAiIikNCiAgfQ0KDQogIC8qKg0KICAgKiBTZXQgbGF0ZXN0IG1vdmVkIGZpZWxkcyBvbiBkaXNwbGF5DQogICAqIEBwYXJhbSBXSExPIHdhcmVob3VzZQ0KICAgKiBAcGFyYW0gV0hOTSB3YXJlaG91c2UgbmFtZQ0KICAgKiBAcGFyYW0gSVROTyBpdGVtIG51bWJlcg0KICAgKiBAcGFyYW0gSVREUyBuYW1lDQogICAqIEBwYXJhbSBXSFNMIGxvY2F0aW9uDQogICAqIEBwYXJhbSBTTERTIGxvY2F0aW9uIG5hbWUNCiAgICogQHBhcmFtIEJBTk8gbG90IG51bWJlcg0KICAgKiBAcGFyYW0gQ0FNVSBjb250YWluZXINCiAgICogQHBhcmFtIFRSUVQgcXVhbnRpdHkNCiAgICogQHBhcmFtIE1OVU4gbWFpbiB1bml0DQogICAqIEByZXR1cm4NCiAgICovDQogIHB1YmxpYyB2b2lkIFNldExhdGVzdE1vdmVkIChTdHJpbmcgV0hMTywgU3RyaW5nIFdITk0sIFN0cmluZyBJVE5PLCBTdHJpbmcgSVREUywgU3RyaW5nIFdIU0wsIFN0cmluZyBTTERTLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIEJBTk8sIFN0cmluZyBDQU1VLCBTdHJpbmcgVFJRVCwgU3RyaW5nIE1OVU4pIHsNCiAgICBDbGVhcklucHV0RmllbGRzKCkNCiAgICBpbnRlcmFjdGl2ZS5kaXNwbGF5LmZpZWxkcy5wdXQoIldMV0hMTyIsIFdITE8pDQogICAgaW50ZXJhY3RpdmUuZGlzcGxheS5maWVsZHMucHV0KCJXTFdITk0iLCBXSE5NKQ0KICAgIGludGVyYWN0aXZlLmRpc3BsYXkuZmllbGRzLnB1dCgiV0xJVE5PIiwgSVROTykNCiAgICBpbnRlcmFjdGl2ZS5kaXNwbGF5LmZpZWxkcy5wdXQoIldMSVREUyIsIElURFMpDQogICAgaW50ZXJhY3RpdmUuZGlzcGxheS5maWVsZHMucHV0KCJXTFdIU0wiLCBXSFNMKQ0KICAgIGludGVyYWN0aXZlLmRpc3BsYXkuZmllbGRzLnB1dCgiV0xTTERTIiwgU0xEUykNCiAgICBpbnRlcmFjdGl2ZS5kaXNwbGF5LmZpZWxkcy5wdXQoIldMQkFOTyIsIEJBTk8pDQogICAgaW50ZXJhY3RpdmUuZGlzcGxheS5maWVsZHMucHV0KCJXTENBTVUiLCBDQU1VKQ0KICAgIGludGVyYWN0aXZlLmRpc3BsYXkuZmllbGRzLnB1dCgiV0xUUlFUIiwgVFJRVCkNCiAgICBpbnRlcmFjdGl2ZS5kaXNwbGF5LmZpZWxkcy5wdXQoIldMTU5VTiIsIE1OVU4pDQoNCiAgICBQcnRMYWJlbChXSExPLCBJVE5PLCBXSFNMLCBCQU5PLCBDQU1VKQ0KICB9DQoNCg0KICAvKioNCiAgICogR2V0IGl0ZW0NCiAgICogQHBhcmFtIElUTk8gaXRlbSBudW1iZXINCiAgICogQHJldHVybiByZXN1bHQgcmVzdWx0IG9mIEFQSSBjYWxsIG90aGVyd2lzZSB3aWxsIGNvbnRhaW4gZXJyb3INCiAgICovDQogIHB1YmxpYyBNYXA8U3RyaW5nLCBTdHJpbmc+IEdldEl0ZW0oU3RyaW5nIElUTk8pIHsNCiAgICBkZWYgcGFyYW1ldGVycyA9IFsiSVROTyI6SVROT10NCiAgICBsb2d0ZXh0KCJHZXRJdGVtIHBhcm1zICR7cGFyYW1ldGVyc30iLCB0cnVlKQ0KICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gcmVzdWx0ID0gbnVsbA0KICAgIENsb3N1cmU8Pz4gaGFuZGxlciA9IHsgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgICAgbG9ndGV4dCgiR2V0SXRlbSByZXNwb25zZSAke3Jlc3BvbnNlfSIsIHRydWUpDQogICAgICByZXN1bHQgPSByZXNwb25zZQ0KICAgICAgcmV0dXJuIHJlc3VsdA0KICAgIH0NCg0KICAgIG1pQ2FsbGVyLmNhbGwoIk1NUzIwME1JIiwgIkdldEl0bUJhc2ljIiwgcGFyYW1ldGVycywgaGFuZGxlcikNCiAgICByZXR1cm4gcmVzdWx0DQogIH0NCg0KDQogIC8qKg0KICAgKiBHZXQgaXRlbSB3YXJlaG91c2UNCiAgICogQHBhcmFtIFdITE8gd2FyZWhvdXNlDQogICAqIEBwYXJhbSBJVE5PIGl0ZW0gbnVtYmVyDQogICAqIEByZXR1cm4gcmVzdWx0IHJlc3VsdCBvZiBBUEkgY2FsbCBvdGhlcndpc2Ugd2lsbCBjb250YWluIGVycm9yDQogICAqLw0KICBwdWJsaWMgIE1hcDxTdHJpbmcsIFN0cmluZz4gR2V0SXRtV2hzKFN0cmluZyBXSExPLCBTdHJpbmcgSVROTykgew0KICAgIGRlZiBwYXJhbWV0ZXJzID0gWyJXSExPIjpXSExPLCAiSVROTyI6SVROT10NCiAgICBsb2d0ZXh0KCJHZXRJdG1XaHMgcGFybXMgJHtwYXJhbWV0ZXJzfSIsIHRydWUpDQogICAgTWFwPFN0cmluZywgU3RyaW5nPiByZXN1bHQgPSBudWxsDQogICAgQ2xvc3VyZTw/PiBoYW5kbGVyID0geyBNYXA8U3RyaW5nLCBTdHJpbmc+IHJlc3BvbnNlIC0+DQogICAgICBsb2d0ZXh0KCJHZXRJdG1XaHMgcmVzcG9uc2UgJHtyZXNwb25zZX0iLCB0cnVlKQ0KICAgICAgcmVzdWx0ID0gcmVzcG9uc2UNCiAgICAgIHJldHVybiByZXN1bHQNCiAgICB9DQoNCiAgICBtaUNhbGxlci5jYWxsKCJNTVMyMDBNSSIsICJHZXRJdG1XaHNCYXNpYyIsIHBhcmFtZXRlcnMsIGhhbmRsZXIpDQogICAgcmV0dXJuIHJlc3VsdA0KICB9DQoNCiAgLyoqDQogICAqIEdldCBsb2NhdGlvbg0KICAgKiBAcGFyYW0gV0hMTyB3YXJlaG91c2UNCiAgICogQHBhcmFtIFdIU0wgbG9jYXRpb24NCiAgICogQHJldHVybiByZXN1bHQgcmVzdWx0IG9mIEFQSSBjYWxsIG90aGVyd2lzZSB3aWxsIGNvbnRhaW4gZXJyb3INCiAgICovDQogIHB1YmxpYyBNYXA8U3RyaW5nLCBTdHJpbmc+IEdldExvY2F0aW9uKFN0cmluZyBXSExPLCBTdHJpbmcgV0hTTCkgew0KICAgIGRlZiBwYXJhbWV0ZXJzID0gWyJXSExPIjpXSExPLCAiV0hTTCI6V0hTTF0NCiAgICBsb2d0ZXh0KCJHZXRMb2NhdGlvbiBwYXJtcyAke3BhcmFtZXRlcnN9IiwgdHJ1ZSkNCiAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IHJlc3VsdCA9IG51bGwNCiAgICBDbG9zdXJlPD8+IGhhbmRsZXIgPSB7IE1hcDxTdHJpbmcsIFN0cmluZz4gcmVzcG9uc2UgLT4NCiAgICAgIGxvZ3RleHQoIkdldExvY2F0aW9uIHJlc3BvbnNlICR7cmVzcG9uc2V9IiwgdHJ1ZSkNCiAgICAgIHJlc3VsdCA9IHJlc3BvbnNlDQogICAgICByZXR1cm4gcmVzdWx0DQogICAgfQ0KDQogICAgbWlDYWxsZXIuY2FsbCgiTU1TMDEwTUkiLCAiR2V0TG9jYXRpb24iLCBwYXJhbWV0ZXJzLCBoYW5kbGVyKQ0KICAgIHJldHVybiByZXN1bHQNCiAgfQ0KDQovKioNCiAqIEdldCBiYWxhbmNlIGlkDQogKiBAcGFyYW0gV0hMTyB3YXJlaG91c2UNCiAqIEBwYXJhbSBJVE5PIGl0ZW0gbnVtYmVyDQogKiBAcGFyYW0gV0hTTCBsb2NhdGlvbg0KICogQHBhcmFtIEJBTk8gbG90IG51bWJlcg0KICogQHBhcmFtIENBTVUgY29udGFpbmVyDQogKiBAcmV0dXJuIHJlc3VsdCByZXN1bHQgb2YgQVBJIGNhbGwgb3RoZXJ3aXNlIHdpbGwgY29udGFpbiBlcnJvcg0KICovDQogIHB1YmxpYyBNYXA8U3RyaW5nLCBTdHJpbmc+IEdldEJhbGFuY2VJRChTdHJpbmcgV0hMTywgU3RyaW5nIElUTk8sIFN0cmluZyBXSFNMLCBTdHJpbmcgQkFOTywgU3RyaW5nIENBTVUpIHsNCiAgICBkZWYgcGFyYW1ldGVycyA9IFsiV0hMTyI6V0hMTywgIklUTk8iOklUTk8sICJXSFNMIjpXSFNMLCAiQkFOTyI6QkFOTywgIkNBTVUiOkNBTVVdDQogICAgbG9ndGV4dCgiR2V0QmFsYW5jZUlEIHBhcm1zICR7cGFyYW1ldGVyc30iLCB0cnVlKQ0KICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gcmVzdWx0ID0gbnVsbA0KICAgIENsb3N1cmU8Pz4gaGFuZGxlciA9IHsgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgICAgbG9ndGV4dCgiR2V0QmFsYW5jZUlEIHJlc3BvbnNlICR7cmVzcG9uc2V9IiwgdHJ1ZSkNCiAgICAgIHJlc3VsdCA9IHJlc3BvbnNlDQogICAgICByZXR1cm4gcmVzdWx0DQogICAgfQ0KDQogICAgbWlDYWxsZXIuY2FsbCgiTU1TMDYwTUkiLCAiR2V0IiwgcGFyYW1ldGVycywgaGFuZGxlcikNCiAgICByZXR1cm4gcmVzdWx0DQogIH0NCg0KICAvKioNCiAgICogR2V0IHBhY2thZ2luZw0KICAgKiBAcGFyYW0gSVROTyBpdGVtIG51bWJlcg0KICAgKiBAcmV0dXJuIHJlc3VsdCByZXN1bHQgb2YgQVBJIGNhbGwgb3RoZXJ3aXNlIHdpbGwgY29udGFpbiBlcnJvcg0KICAgKi8NCiAgLy9wdWJsaWMgU3RyaW5nIEdldFBhY2thZ2luZyhTdHJpbmcgSVROTykgeyAvL0QgMjAyMDEwMTkNCiAgcHVibGljIFN0cmluZyBHZXRQYWNrYWdpbmcoU3RyaW5nIElUTk8sIFN0cmluZyBUUlFUKSB7IC8vQSAyMDIwMTAxOQ0KICAgIC8vZGVmIHBhcmFtZXRlcnMgPSBbIklUTk8iOklUTk8sICJUUlFUIjoiOTk5OTkiXSAvL0QgMjAyMDEwMTkNCiAgICBkZWYgcGFyYW1ldGVycyA9IFsiSVROTyI6SVROTywgIlRSUVQiOlRSUVRdIC8vQSAyMDIwMTAxOQ0KICAgIGxvZ3RleHQoIkdldFBhY2thZ2luZyBwYXJtcyAke3BhcmFtZXRlcnN9IiwgdHJ1ZSkNCiAgICBTdHJpbmcgcmVzdWx0ID0gIiINCiAgICBDbG9zdXJlPD8+IGhhbmRsZXIgPSB7IE1hcDxTdHJpbmcsIFN0cmluZz4gcmVzcG9uc2UgLT4NCiAgICAgIGxvZ3RleHQoIkdldFBhY2thZ2luZyByZXNwb25zZSAke3Jlc3BvbnNlfSIsIHRydWUpDQogICAgICBpZiAocmVzcG9uc2UuY29udGFpbnNLZXkoJ2Vycm9yTXNpZCcpKSB7DQogICAgICAgIHJldHVybiByZXN1bHQNCiAgICAgIH0NCiAgICAgIHJlc3VsdCA9IHJlc3BvbnNlLlBBQ1QNCiAgICB9DQoNCiAgICBtaUNhbGxlci5jYWxsKCJNTVMwNTNNSSIsICJHZXRJdGVtQ29ublBrZyIsIHBhcmFtZXRlcnMsIGhhbmRsZXIpDQogICAgcmV0dXJuIHJlc3VsdA0KICB9DQoNCiAgLyoqDQogICAqIEdldCBnZXQgY29udGFpbmVyDQogICAqIEBwYXJhbSBQQUNUIHBhY2FrYWdpbmcNCiAgICogQHJldHVybiByZXN1bHQgcmVzdWx0IG9mIEFQSSBjYWxsIG90aGVyd2lzZSB3aWxsIGNvbnRhaW4gZXJyb3INCiAgICovDQogIHB1YmxpYyBTdHJpbmcgR2V0Q29udGFpbmVyKFN0cmluZyBQQUNUKSB7DQogICAgZGVmIHBhcmFtZXRlcnMgPSBbIlBBQ1QiOlBBQ1RdDQogICAgbG9ndGV4dCgiR2V0Q29udGFpbmVyIHBhcm1zICR7cGFyYW1ldGVyc30iLCB0cnVlKQ0KICAgIFN0cmluZyByZXN1bHQgPSAiIg0KICAgIENsb3N1cmU8Pz4gaGFuZGxlciA9IHsgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgICAgbG9ndGV4dCgiR2V0Q29udGFpbmVyIHJlc3BvbnNlICR7cmVzcG9uc2V9IiwgdHJ1ZSkNCiAgICAgIGlmIChyZXNwb25zZS5jb250YWluc0tleSgnZXJyb3JNc2lkJykpIHsNCiAgICAgICAgcmV0dXJuIHJlc3VsdA0KICAgICAgfQ0KICAgICAgcmVzdWx0ID0gcmVzcG9uc2UuUEFOUg0KICAgIH0NCg0KICAgIG1pQ2FsbGVyLmNhbGwoIk1NUzQ3ME1JIiwgIkFkZFBhY2tTdGsiLCBwYXJhbWV0ZXJzLCBoYW5kbGVyKQ0KICAgIHJldHVybiByZXN1bHQNCiAgfQ0KDQogIC8qKg0KICAgKiBQcmludCBwYWxsZXQgbGFiZWwNCiAgICogQHBhcmFtIFdITE8gd2FyZWhvdXNlDQogICAqIEBwYXJhbSBJVE5PIGl0ZW0gbnVtYmVyDQogICAqIEBwYXJhbSBXSFNMIGxvY2F0aW9uDQogICAqIEBwYXJhbSBCQU5PIGxvdCBudW1iZXINCiAgICogQHBhcmFtIENBTU8gY29udGFpbmVyDQogICAqIEByZXR1cm4gcmVzdWx0IHJlc3VsdCBvZiBBUEkgY2FsbCBvdGhlcndpc2Ugd2lsbCBjb250YWluIGVycm9yDQogICAqLw0KICBwdWJsaWMgU3RyaW5nIFBydExhYmVsKFN0cmluZyBXSExPLCBTdHJpbmcgSVROTywgU3RyaW5nIFdIU0wsIFN0cmluZyBCQU5PLCBTdHJpbmcgQ0FNVSkgew0KICAgIGRlZiBwYXJhbWV0ZXJzID0gWyJXSExPIjogV0hMTywgIklUTk8iOklUTk8sICJXSFNMIjogV0hTTCwgIkJBTk8iOiBCQU5PLCAiQ0FNVSI6IENBTVVdDQogICAgbG9ndGV4dCgiUHJpbnRMYWJlbCBwYXJtcyAke3BhcmFtZXRlcnN9IiwgdHJ1ZSkNCiAgICBTdHJpbmcgcmVzdWx0ID0gIiINCiAgICBDbG9zdXJlPD8+IGhhbmRsZXIgPSB7IE1hcDxTdHJpbmcsIFN0cmluZz4gcmVzcG9uc2UgLT4NCiAgICAgIGlmIChyZXNwb25zZS5jb250YWluc0tleSgnZXJyb3JNc2lkJykpew0KICAgICAgICByZXR1cm4gcmVzdWx0DQogICAgICB9DQogICAgfQ0KICAgIG1pQ2FsbGVyLmNhbGwoIk1NUzA2ME1JIiwgIlBydFB1dEF3YXlMYmwiLCBwYXJhbWV0ZXJzLCBoYW5kbGVyKQ0KICAgIGxvZ3RleHQoIlJlc3VsdCBvZiBQcnRQdXRBd2F5TGJsOiAke3Jlc3VsdH0iLCB0cnVlKQ0KICAgIHJldHVybiByZXN1bHQNCiAgfQ0KDQogIC8qKg0KICAgKiBBZGQgcGFjayBtb3ZlDQogICAqIEBwYXJhbSBXSExPIHdhcmVob3VzZQ0KICAgKiBAcGFyYW0gUEFOUiBwYWNrYWdlIG51bWJlcg0KICAgKiBAcGFyYW0gVFdTTCB0byBsb2NhdGlvbg0KICAgKiBAcmV0dXJuIHJlc3VsdCByZXN1bHQgb2YgQVBJIGNhbGwgb3RoZXJ3aXNlIHdpbGwgY29udGFpbiBlcnJvcg0KICAgKi8NCiAgcHVibGljIE1hcDxTdHJpbmcsIFN0cmluZz4gQWRkUGFja01vdmUoU3RyaW5nIFdITE8sIFN0cmluZyBQQU5SLCBTdHJpbmcgVFdTTCkgew0KICAgIFN0cmluZyBQUkZMID0gIipFWEUiDQogICAgU3RyaW5nIEUwUEEgPSAiV1MiDQogICAgU3RyaW5nIEUwNjUgPSAiV01TIg0KICAgIGRlZiBwYXJhbWV0ZXJzID0gWyJQUkZMIjogUFJGTCwgIkUwUEEiOkUwUEEsICJFMDY1IjogRTA2NSwgIldITE8iOiBXSExPLCAiUEFOUiI6IFBBTlIsICJUV1NMIjpUV1NMXQ0KICAgIGxvZ3RleHQoIkFkZFBhY2tNb3ZlIHBhcm1zICR7cGFyYW1ldGVyc30iLCB0cnVlKQ0KICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gcmVzdWx0ID0gbnVsbA0KICAgIENsb3N1cmU8Pz4gaGFuZGxlciA9IHsgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgICAgcmVzdWx0ID0gcmVzcG9uc2UNCiAgICAgIHJldHVybiByZXN1bHQNCiAgICB9DQogICAgbWlDYWxsZXIuY2FsbCgiTU1TODUwTUkiLCAiQWRkUGFja01vdmUiLCBwYXJhbWV0ZXJzLCBoYW5kbGVyKQ0KICAgIGxvZ3RleHQoIlJlc3VsdCBvZiBBZGRQYWNrTW92ZTogJHtyZXN1bHR9IiwgdHJ1ZSkNCiAgICByZXR1cm4gcmVzdWx0DQogIH0NCg0KLyoqDQogKiBBZGQgbW92ZQ0KICogQHBhcmFtIFdITE8gd2FyZWhvdXNlDQogKiBAcGFyYW0gV0hTTCBsb2NhdGlvbg0KICogQHBhcmFtIElUTk8gaXRlbSBudW1iZXINCiAqIEBwYXJhbSBCQU5PIGxvdCBudW1iZXINCiAqIEBwYXJhbSBDQU1VIGNvbnRhaW5lcg0KICogQHBhcmFtIFFMUVQgcXVhbnRpdHkNCiAqIEBwYXJhbSBUV1NMIHRvIGxvY2F0aW9uDQogKiBAcHJhcm0gVE9DQSB0byBjb250YWluZXINCiAqIEByZXR1cm4gcmVzdWx0IHJlc3VsdCBvZiBBUEkgY2FsbCBvdGhlcndpc2Ugd2lsbCBjb250YWluIGVycm9yDQogKi8NCiAgcHVibGljIE1hcDxTdHJpbmcsIFN0cmluZz4gQWRkTW92ZShTdHJpbmcgV0hMTywgU3RyaW5nIFdIU0wsIFN0cmluZyBJVE5PLCBTdHJpbmcgQkFOTywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgQ0FNVSwgU3RyaW5nIFFMUVQsIFN0cmluZyBUV1NMLCBTdHJpbmcgVE9DQSkgew0KICAgIFN0cmluZyBQUkZMID0gIipFWEUiDQogICAgU3RyaW5nIEUwUEEgPSAiV1MiDQogICAgU3RyaW5nIEUwNjUgPSAiV01TIg0KICAgIGRlZiBwYXJhbWV0ZXJzID0gWyJQUkZMIjogUFJGTCwgIkUwUEEiOkUwUEEsICJFMDY1IjpFMDY1LCAiV0hMTyI6V0hMTywgIldIU0wiOldIU0wsICJJVE5PIjpJVE5PLCAiQkFOTyI6QkFOTywNCiAgICAgICAgICAgICAgICAgICAgICAiQ0FNVSI6Q0FNVSwgIlFMUVQiOlFMUVQsICJUV1NMIjpUV1NMLCAiVE9DQSI6VE9DQV0NCiAgICBsb2d0ZXh0KCJBZGRNb3ZlIHBhcm1zICR7cGFyYW1ldGVyc30iLCB0cnVlKQ0KICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gcmVzdWx0ID0gbnVsbA0KICAgIENsb3N1cmU8Pz4gaGFuZGxlciA9IHsgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgICAgcmVzdWx0ID0gcmVzcG9uc2UNCiAgICAgIHJldHVybiByZXN1bHQNCiAgICB9DQogICAgbWlDYWxsZXIuY2FsbCgiTU1TODUwTUkiLCAiQWRkTW92ZSIsIHBhcmFtZXRlcnMsIGhhbmRsZXIpDQogICAgbG9ndGV4dCgiUmVzdWx0IG9mIEFkZE1vdmU6ICR7cmVzdWx0fSIsIHRydWUpDQogICAgcmV0dXJuIHJlc3VsdA0KICB9DQoNCiAgZGVmIGxvZ3RleHQoU3RyaW5nIHRleHQsIGJvb2xlYW4gbG9nKSB7DQoNCiAgICBpZiAobG9nID09IGZhbHNlKSB7DQogICAgICByZXR1cm4NCiAgICB9DQogICAgbG9nZ2VyLmRlYnVnKCJEZWJ1ZyAkdGV4dCIpDQogIH0NCn0NCg=="}}}